<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- b站内容 -->
    <img src="media/b站.png" alt="断网反馈" style="left: 50%;position: fixed;top: 50%;transform: translate(-50%, -50%);">
    <div style="left: 50%;position: fixed;top: 90%;transform: translate(-50%, -50%);">您目前处于离线状态</div>
    <!-- 测试网页内容 -->
    <h1>测试断网用的网页</h1>
    <button>点击显示断网b站内容</button>
    <button>点击显示成功联网内容</button>
    <!-- js -->
    <script>
        let btn1 = document.getElementsByTagName('button')[0]
        let btn2 = document.getElementsByTagName('button')[1]
        btn1.addEventListener('click', function () {
            const xml = new XMLHttpRequest()
            //初始化
            xml.open('GET', 'http//127.0.0.1:8000')
            // 发送请求
            xml.send()
            // 跨域问题
            xml.onreadystatechange = function () {
                if (xml.readyState === 4) {
                    if (xml.status >= 200 && xml.status < 300) {
                        console.log(xml.response);
                        document.write(xml.response)
                    }
                }
            }
        })
        btn2.addEventListener('click', function () {
            const xml = new XMLHttpRequest()
            //初始化
            xml.open('GET', 'http//127.0.0.1:8000')
            // 发送请求
            xml.send()
            // 跨域问题
            xml.setRequestHeader('Access-Control-Allow-Origin', '*')
            xml.onreadystatechange = function () {
                if (xml.readyState === 4) {
                    if (xml.status >= 200 && xml.status < 300) {
                        console.log(xml.response);
                        document.write(xml.response)
                    }
                }
            }
        })
    </script>
</body>

</html>